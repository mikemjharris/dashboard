<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Dashboard</title>
    <link  rel='stylesheet' href='./dashboard/style.css' />
    <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
</head>

<body>
    <h1>Project Dashboard</h1>
    <div id="app">
      <div class="container">
        <div class="header">
          <div>Project</div>
          <div>Status</div>
        </div>
        <div class="row" v-if="!projects.length">Loading...</div>
        <div class="row" v-for="(project) in projects">
          <a v-bind:class="{ error: !project.ok}" :href="project.url" target="_blank"> {{ project.url }}</a>
          <div class="error status" v-if="!project.ok">
              <div>Error - no status</div>
          </div>
          <div class="status" v-else>
              <div>{{ project.status.commit}} </div>
              <div>{{ project.status.branch}} </div>
              <div>{{ project.status.deploy_date}} </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>Project by <a href="https://www.twitter.com/mikemjharris">Mike Harris</a> see the code on <a target="_blank" href="https://github.com/mikemjharris/dashboard">github</a></p>
    </footer>
</body>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./dashboard/bundle.js"></script>
</html>
